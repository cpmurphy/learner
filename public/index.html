<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chess Learn Tool</title>
    <link rel="stylesheet" href="3rdparty-assets/cm-chessboard/chessboard.css">
    <link rel="stylesheet" href="styles/style.css">
</head>
<body>
    <h1>Game Review Tool</h1>

    <div class="pgn-selection controls">
        <label for="pgn-file-select">Select PGN File:</label>
        <select id="pgn-file-select">
            <option value="">-- Loading PGNs --</option>
        </select>
        <button id="load-pgn-button">Load First Game</button>
    </div>

    <div id="player-names-display" class="player-names">
        <!-- Player names will be displayed here -->
    </div>
    <div id="chessboard-container" style="width: 400px; max-width: 100vw; margin-top: 10px;">
        <!-- Chessboard will be rendered here by cm-chessboard -->
    </div>
    <div class="controls">
        <button class='control-btn' id='fast-rewind-moves' title='Go to start'>
            <svg class='icon' viewBox='0 0 24 24'>
                <path d='M11 18V6l-8.5 6 8.5 6zm.5-6l8.5 6V6l-8.5 6z'></path>
            </svg>
        </button>
        <button class='control-btn' id='prev-move' title='Previous move'>
            <svg class='icon' viewBox='0 0 24 24'>
                <path d='M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z'></path>
            </svg>
        </button>
        <input id='move-input' type='text'>
        <button class='control-btn' id='next-move' title='Next move'>
            <svg class='icon' viewBox='0 0 24 24'>
                <path d='M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z'></path>
            </svg>
        </button>
        <button class='control-btn' id='next-critical' title='Next mistake'>
            <svg class='icon' viewBox='0 0 24 24'>
                <path d='M5.4375 4.53515625 C4.5 4.53515625 3.875 5.0703125 3.875 6 C3.875 6.9296875 4.5 7.46484375 5.4375 7.46484375 C5.8203125 7.46484375 6.1875 7.28515625 6.1875 6.75 C6.1875 6.21484375 5.8203125 6.03515625 5.4375 6.03515625 C4.91015625 6.03515625 4.91796875 6.7734375 4.91796875 7.04296875 L4.91796875 8.48046875 C4.91796875 10.0195312 6.125 11.3652344 6.125 11.3652344 L6.6875 11.3652344 L6.6875 12.09375 L9.3125 12.09375 L9.3125 11.3652344 C9.3125 11.3652344 9.3125 10.0195312 9.3125 8.48046875 L9.3125 7.04296875 C9.3125 6.7734375 9.31015625 6.03515625 8.78515625 6.03515625 C8.3921875 6.03515625 8.025390625 6.21484375 8.025390625 6.75 C8.025390625 7.28515625 8.3921875 7.46484375 8.775390625 7.46484375 C9.712890625 7.46484375 10.337890625 6.9296875 10.337890625 6 C10.337890625 5.0703125 9.712890625 4.53515625 8.775390625 4.53515625 C8.087890625 4.53515625 7.205078125 4.52734375 6.025390625 5.8125 C7.150390625 7.04296875 7.150390625 8.33984375 7.150390625 10.0195312 L7.150390625 11.3652344 M8 16.2773438 C7.13411133 16.2773438 6.4375 15.5807324 6.4375 14.7148438 C6.4375 13.8489551 7.13411133 13.1523438 8 13.1523438 C8.86588867 13.1523438 9.5625 13.8489551 9.5625 14.7148438 C9.5625 15.5807324 8.86588867 16.2773438 8 16.2773438 Z'></path>
                <path d='M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z'></path>
            </svg>
        </button>
        <button class='control-btn' id='fast-forward-moves' title='Go to end'>
            <svg class='icon' viewBox='0 0 24 24'>
                <path d='M4 18l8.5-6L4 6v12zm9-12v12l8.5-6L13 6z'></path>
            </svg>
        </button>
        </button>
        <button class='control-btn' id='flip-board' title='Flip board'>
            <svg class='icon' viewBox='0 0 24 24'>
                <path d='M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z'></path>
            </svg>
        </button>
        <button class='control-btn' id='copy-fen-button' title='Copy FEN to clipboard'>
            <svg class='icon' viewBox='0 0 24 24'>
                <path d='M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z'></path>
            </svg>
        </button>
    </div>
    <div id="move-info-display" class="move-info">
        <!-- Last move details will be displayed here by JavaScript -->
    </div>
    <div class="info">
        <p>Select side to learn from:</p>
        <select id="learn-side">
            <option value="white">White</option>
            <option value="black">Black</option>
        </select>
    </div>

    <script type="module" src="scripts/main.js"></script>
</body>
</html>
